(this.webpackJsonpedmap=this.webpackJsonpedmap||[]).push([[0],{117:function(e,t){},118:function(e,t){},124:function(e,t,n){},165:function(e,t,n){e.exports=n(178)},170:function(e,t,n){},173:function(e,t){},178:function(e,t,n){"use strict";n.r(t);var i=n(9),o=n.n(i),a=n(136),r=n.n(a),l=(n(170),n(95)),c=n(137),s=n(146),u=n(144),d=n(194),g=n(114),m=(n(124),function(e){var t=e.info;return o.a.createElement("div",{className:"ui container"},o.a.createElement("div",{className:"ui segment"},t.title))}),f=function(e){return o.a.createElement("div",{className:"ui two column  raised padded text container segment grid",style:{position:"absolute",zIndex:1}},o.a.createElement("div",{className:"column"},o.a.createElement("h4",{className:"ui header"},"3D model of forth rail bridge"),o.a.createElement("button",{className:"ui primary button",onClick:e.goToBridges},"View Model")),o.a.createElement("div",{className:"column"},o.a.createElement("h4",{className:"ui header"},"Pickable GeoJson ROS Model"),o.a.createElement("button",{className:"ui primary button",onClick:e.goToRos},"View Model")))},p=n(140),h=n(197),b=n(193),v=n(198),y=n(196),w=function e(){Object(l.a)(this,e),this.getBridgesLayer=function(){return new v.a({id:"scenegraph-layer",data:"forth-road-bridge.json",pickable:!0,scenegraph:"forth-rail-bridge.glb",getPosition:function(e){return console.log(e),e.coordinates},getOrientation:function(e){return[0,105,90]},sizeScale:1.1,_lighting:"pbr",getColor:function(e){return[130,0,0,200]}})},this.getRosBuilding=function(e,t){return new y.a({id:"geojson",data:"edinburgh-buildings.json",opacity:.8,stroked:!1,filled:!0,extruded:!0,wireframe:!0,getElevation:function(e){return 3*function(e){var t=e.properties.other_tags;if(console.log("environment"),console.log(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})),t){console.log(e.properties.other_tags);var n=t.match(/building:levels"=>"([0-9]+)/);return n?Number(n[1]):1}}(e)},getFillColor:function(e){return e.properties.id===t()?[255,36,0]:[55,205,155]},updateTriggers:{getFillColor:function(){return console.log("check fill")}},getLineColor:[255,255,255],onClick:function(t){return function(t){var n=t.object;console.log(n),n&&e({selectedBuildingId:n.properties.id,title:n.properties.info})}(t)},pickable:!0})}};Object(p.b)(h.a);var E=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).layersFactory=new w,e.state={title:"Click on coloured buildings for info...",selectedBuildingId:null,initialViewState:{longitude:-3.1517904,latitude:55.9557288,zoom:16,pitch:60,bearing:0},layers:[]},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(f,{goToBridges:function(){e.setState({initialViewState:{longitude:-3.3878494935,latitude:55.9981315604,zoom:14,pitch:60,bearing:80,transitionDuration:5e3,transitionInterpolator:new b.a},layers:[e.layersFactory.getBridgesLayer()]})},goToRos:function(){var t=function(){return e.state.selectedBuildingId};e.setState({initialViewState:{longitude:-3.1517904,latitude:55.9557288,zoom:16,pitch:60,bearing:0,transitionDuration:5e3,transitionInterpolator:new b.a},layers:e.layersFactory.getRosBuilding((function n(i){e.setState(i),e.setState({layers:e.layersFactory.getRosBuilding(n,t)})}),t)})}}),o.a.createElement(d.a,{initialViewState:this.state.initialViewState,controller:!0,layers:[this.state.layers]},o.a.createElement(g.a,{reuseMaps:!0,mapStyle:"dev-style-edinburgh.json",preventStyleDiffing:!0,mapboxApiAccessToken:""},o.a.createElement(m,{info:this.state}))))}}]),n}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[165,1,2]]]);
//# sourceMappingURL=main.2624f2be.chunk.js.map