(this.webpackJsonpedmap=this.webpackJsonpedmap||[]).push([[0],{118:function(e,t){},119:function(e,t){},125:function(e,t,n){},138:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var i=n(96),a=n(139),o=n(149),r=n(147),l=n(9),s=n.n(l),c=n(186),u=n(95),d=(n(177),n(141)),g=n(117),m=n(188),f=n(150),p=n(142);Object(g.b)(m.a);var h=function(t){Object(o.a)(l,t);var n=Object(r.a)(l);function l(){var e;Object(i.a)(this,l);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).layersFactory=new p.a,e.state={title:"Click on coloured buildings for info...",selectedBuildingInfo:null,initialViewState:{longitude:-3.1517904,latitude:55.9557288,zoom:16,pitch:60,bearing:0},layers:[]},e}return Object(a.a)(l,[{key:"_renderPopup",value:function(){var e=this;return this.state.selectedBuildingInfo&&s.a.createElement("div",{className:"ui card",style:{position:"absolute",background:"white",left:this.state.selectedBuildingInfo.x,top:this.state.selectedBuildingInfo.y,zIndex:100}},s.a.createElement("div",{className:"image"},s.a.createElement("img",{src:"./building-icon.png"})),s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"header"},this.state.selectedBuildingInfo.title),s.a.createElement("div",{className:"description"},"What is Lorem Ipsum Lorem Ipsum is simply dummy text of the printing and typesetting industry Lorem Ipsum has been the industry's standard dummy text ever since the")),s.a.createElement("div",{className:"ui two bottom attached buttons"},s.a.createElement("div",{className:"ui primary button",onClick:function(){return e.setState({selectedBuildingInfo:null})}},s.a.createElement("i",{className:"close icon"}),"Close")))}},{key:"render",value:function(){var t=this;console.log("environment"),console.log(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}));var n="development"===e.NODE_ENV?"dev-style-edinburgh.json":"style-edinburgh.json";return s.a.createElement("div",null,s.a.createElement(d.a,{goToBridges:function(){t.setState({selectedBuildingInfo:null,initialViewState:{longitude:-3.3878494935,latitude:55.9981315604,zoom:14,pitch:60,bearing:80,transitionDuration:5e3,transitionInterpolator:new f.a},layers:[t.layersFactory.getBridgesLayer()]})},goToRos:function(){var e=function(){return t.state.selectedBuildingInfo&&t.state.selectedBuildingInfo.selectedBuildingId};t.setState({initialViewState:{longitude:-3.1517904,latitude:55.9557288,zoom:16,pitch:60,bearing:0,transitionDuration:5e3,transitionInterpolator:new f.a},layers:t.layersFactory.getRosBuilding((function n(i){t.setState(i),t.setState({layers:t.layersFactory.getRosBuilding(n,e)})}),e)})}}),this._renderPopup(),s.a.createElement(c.a,{initialViewState:this.state.initialViewState,controller:!0,layers:[this.state.layers]},s.a.createElement(u.a,{reuseMaps:!0,mapStyle:n,preventStyleDiffing:!0,mapboxApiAccessToken:""})))}}]),l}(l.Component)}).call(this,n(49))},141:function(e,t,n){"use strict";var i=n(9),a=n.n(i);n(125);t.a=function(e){return a.a.createElement("div",{className:"ui two column  raised padded text container segment grid",style:{position:"absolute",zIndex:1}},a.a.createElement("div",{className:"column"},a.a.createElement("h4",{className:"ui header"},"3D model of forth rail bridge"),a.a.createElement("button",{className:"ui primary button",onClick:e.goToBridges},"View Model")),a.a.createElement("div",{className:"column"},a.a.createElement("h4",{className:"ui header"},"Pickable GeoJson ROS Model"),a.a.createElement("button",{className:"ui primary button",onClick:e.goToRos},"View Model")))}},142:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(96),a=n(189),o=n(187),r=function e(){Object(i.a)(this,e),this.getBridgesLayer=function(){return new a.a({id:"scenegraph-layer",data:"forth-road-bridge.json",pickable:!0,scenegraph:"forth-rail-bridge.glb",getPosition:function(e){return console.log(e),e.coordinates},getOrientation:function(e){return[0,105,90]},sizeScale:1.1,_lighting:"pbr",getColor:function(e){return[130,0,0,200]}})},this.getRosBuilding=function(e,t){return new o.a({id:"geojson",data:"edinburgh-buildings.json",opacity:.8,stroked:!1,filled:!0,extruded:!0,wireframe:!0,getElevation:function(e){return 3*function(e){var t=e.properties.other_tags;if(t){console.log(e.properties.other_tags);var n=t.match(/building:levels"=>"([0-9]+)/);return n?Number(n[1]):1}}(e)},getFillColor:function(e){return e.properties.id===t()?[255,36,0]:[55,205,155]},updateTriggers:{getFillColor:function(){return console.log("check fill")}},getLineColor:[255,255,255],onClick:function(t){return function(t){var n=t.x,i=t.y,a=t.object;console.log(a),a&&e({selectedBuildingInfo:{selectedBuildingId:a.properties.id,title:a.properties.title,x:n,y:i}})}(t)},pickable:!0})}}},169:function(e,t,n){e.exports=n(183)},174:function(e,t,n){},177:function(e,t,n){"use strict";n(9),n(125)},178:function(e,t){},183:function(e,t,n){"use strict";n.r(t);var i=n(9),a=n.n(i),o=n(137),r=n.n(o),l=(n(174),n(138));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(l.a,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[169,1,2]]]);
//# sourceMappingURL=main.4d0af101.chunk.js.map